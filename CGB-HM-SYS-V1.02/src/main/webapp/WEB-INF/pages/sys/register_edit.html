<div class="row">
	<div class="col-lg-3 col-xs-6">
		<!-- small box -->
		<div class="small-box bg-aqua">
			<div class="inner">
				<h3>10</h3>

				<p>总房数</p>
			</div>
			<div class="icon">
				<i class="glyphicon glyphicon-th"></i>
			</div>
			<a href="#" class="small-box-footer">More info <i
				class="fa fa-arrow-circle-right"></i></a>
		</div>
	</div>
	<!-- ./col -->
	<div class="col-lg-3 col-xs-6">
		<!-- small box -->
		<div class="small-box bg-green">
			<div class="inner">
				<h3>5</h3>

				<p>单人间</p>
			</div>
			<div class="icon">
				<i class="glyphicon glyphicon-user"></i>
			</div>
			<a href="#" class="small-box-footer">More info <i
				class="fa fa-arrow-circle-right"></i></a>
		</div>
	</div>
	<!-- ./col -->
	<div class="col-lg-3 col-xs-6">
		<!-- small box -->
		<div class="small-box bg-yellow">
			<div class="inner">
				<h3>3</h3>

				<p>双人间</p>
			</div>
			<div class="icon">
				<i class="glyphicon glyphicon-heart"></i>
			</div>
			<a href="#" class="small-box-footer">More info <i
				class="fa fa-arrow-circle-right"></i></a>
		</div>
	</div>
	<!-- ./col -->
	<div class="col-lg-3 col-xs-6">
		<!-- small box -->
		<div class="small-box bg-red">
			<div class="inner">
				<h3>2</h3>

				<p>Vip房</p>
			</div>
			<div class="icon">
				<i class="glyphicon glyphicon-home"></i>
			</div>
			<a href="#" class="small-box-footer">More info <i
				class="fa fa-arrow-circle-right"></i></a>
		</div>
	</div>
	<!-- ./col -->
</div>

<div class="row">
	<section class="content">
		<div class="col-md-3">
			<!-- /. box -->
			<div class="box box-solid">
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">
							<font style="vertical-align: inherit;"><font
								style="vertical-align: inherit;">快速查询</font></font>
						</h3>
					</div>
					<!-- /.box-header -->
					<!-- form start -->
					<form role="form">
						<div class="box-body">
							<div class="form-group">
								<label for="exampleInputEmail1"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">入住时间</font></font></label> <input
									type="date" class="form-control" id="exampleInputEmail1">
							</div>
							<div class="form-group">
								<label for="exampleInputPassword1"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">名字</font></font></label> <input type="text"
									class="form-control" id="exampleInputPassword1">
							</div>

							<div class="form-group">
								<label for="exampleInputPassword1"><font
									style="vertical-align: inherit;"><font
										style="vertical-align: inherit;">手机号</font></font></label> <input type="text"
									class="form-control" id="exampleInputPassword1">
							</div>
						</div>
						<!-- /.box-body -->

						<div class="box-footer">
							<button type="submit" class="btn btn-primary">
								<font style="vertical-align: inherit;"><font
									style="vertical-align: inherit;">查询</font></font>
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		<!-- /.col -->

		<div class="col-md-9">
			<!-- Horizontal Form -->
			<div class="box box-info">
				<div class="box-header with-border">
					<h3 class="box-title">入住登记</h3>
				</div>
				<!-- /.box-header -->
				<!-- form start -->
				<form class="form-horizontal">
					<div class="box-body">

						<div class="form-group">
							<label for="guestnameId" class="col-sm-2 control-label"
								style="display: inline">住户1姓名</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="guestname"
									id="guestnameId" placeholder="姓名">
							</div>
						</div>

						<div class="form-group">
							<label for="idcardId" class="col-sm-2 control-label">住户1身份证号码</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="idcard"
									id="idcardId" data-inputmask="'mask': ['999999999999999999']"
									data-mask>
							</div>
						</div>

						<div class="form-group">
							<label for="guestname2Id" class="col-sm-2 control-label"
								style="display: inline">住户2姓名</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="guestname2"
									id="guestname2Id" placeholder="姓名">
							</div>
						</div>

						<div class="form-group">
							<label for="idcard2Id" class="col-sm-2 control-label">住户2身份证号码</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="idcard2"
									id="idcard2Id" data-inputmask="'mask': ['999999999999999999']"
									data-mask>
							</div>
						</div>

						<div class="form-group">
							<label for="guestname3Id" class="col-sm-2 control-label"
								style="display: inline">住户3姓名</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="guestname3"
									id="guestname3Id" placeholder="姓名">
							</div>
						</div>

						<div class="form-group">
							<label for="idcard3Id" class="col-sm-2 control-label">住户3身份证号码</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="idcard3"
									id="idcard3Id" data-inputmask="'mask': ['999999999999999999']"
									data-mask>
							</div>
						</div>

						<div class="form-group">
							<label for="guestname4Id" class="col-sm-2 control-label"
								style="display: inline">住户4姓名</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="guestname4"
									id="guestname4Id" placeholder="姓名">
							</div>
						</div>

						<div class="form-group">
							<label for="idcard4Id" class="col-sm-2 control-label">住户4身份证号码</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" name="idcard"
									id="idcard4Id" data-inputmask="'mask': ['999999999999999999']"
									data-mask>
							</div>
						</div>



					</div>
					<!-- /.box-body -->
					<div class="box-footer">
						<button type="button" class="btn btn-default btn-cancel">Cancel</button>
						<button type="button" class="btn btn-info pull-right btn-save">Save</button>
					</div>
					<!-- /.box-footer -->
				</form>

			</div>
		</div>
	</section>
</div>
<!-- bootstrap datepicker -->
<!-- 
<script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
 -->
<!-- date-range-picker -->
<script src="bower_components/moment/min/moment.min.js"></script>
<script
	src="bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- bootstrap datepicker -->
<script
	src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- InputMask -->
<script src="plugins/input-mask/jquery.inputmask.js"></script>
<script src="plugins/input-mask/jquery.inputmask.date.extensions.js"></script>
<script src="plugins/input-mask/jquery.inputmask.extensions.js"></script>

<script type="text/javascript">
	$(function() {

		$('[data-mask]').inputmask();

		$(".box-footer").on("click", ".btn-cancel", doCancel).on("click",
				".btn-save", doSave);
		var title = $("#mainContentId").data("roomNum") + "房间登记表";
		var data = $("#mainContentId").data("Guest");
		if (data) {
			console.log("追加登记页面");
			title = $("#mainContentId").data("roomNum") + "房间追加登记表";
			doLoadGuest(data);
		}
		var flag = $("#mainContentId").data("newRegister")
		console.log(flag);
		if (flag) {
			title = "房间登记表"
		}

		$(".box-title").html(title)

	})
	//填充已存在的数据
	function doLoadGuest(data) {

		$("#guestnameId").val(data.guestname);
		$("#idcardId").val(data.idcard);
		$("#guestname2Id").val(data.guestname2);
		$("#idcard2Id").val(data.idcard2);
		$("#guestname3Id").val(data.guestname3);
		$("#idcard3Id").val(data.idcard3);
		$("#guestname4Id").val(data.guestname4);
		$("#idcard4Id").val(data.idcard4);
	}
	function doSave() {
		var params = {
			id : $("#mainContentId").data("id"),
			guestname : $("#guestnameId").val(),
			idcard : $("#idcardId").val(),
			guestname2 : $("#guestname2Id").val(),
			idcard2 : $("#idcard2Id").val(),
			guestname3 : $("#guestname3Id").val(),
			idcard3 : $("#idcard3Id").val(),
			guestname4 : $("#guestname4Id").val(),
			idcard4 : $("#idcard4Id").val()
		}
		console.log(params);
		var url = "register/doUpdateReserveToRegister.do";

		$.post(url, params, function(result) {
			if (result.state == 1) {
				alert(result.message);
				doCancel();
			} else {
				alert(result.message);
			}
		})

	}
	function doCancel() {
		$("#mainContentId").removeData("id");
		$("#mainContentId").removeData("roomNum");
		var url = "reserve/doReserveListUI.do";
		//追加登记和新建登记直接跳转到登记管理页面
		if ($("#mainContentId").data("Guest")
				|| $("#mainContentId").data("newRegister")) {
			url = "register/doRegisterListUI.do"
		}
		$("#mainContentId").removeData("Guest");
		$("#mainContentId").removeData("newRegister");
		$("#mainContentId").load(url);
	}
</script>